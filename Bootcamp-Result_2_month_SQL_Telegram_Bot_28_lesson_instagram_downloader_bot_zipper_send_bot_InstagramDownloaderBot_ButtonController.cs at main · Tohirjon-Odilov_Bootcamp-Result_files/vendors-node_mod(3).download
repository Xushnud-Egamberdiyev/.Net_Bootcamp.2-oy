"use strict";(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([["vendors-node_modules_github_combobox-nav_dist_index_js-node_modules_github_markdown-toolbar-e-820fc0"],{10160:(t,e,n)=>{n.d(e,{Z:()=>Combobox});let Combobox=class Combobox{constructor(t,e,{tabInsertsSuggestions:n,defaultFirstOption:i}={}){this.input=t,this.list=e,this.tabInsertsSuggestions=null==n||n,this.defaultFirstOption=null!=i&&i,this.isComposing=!1,e.id||(e.id=`combobox-${Math.random().toString().slice(2,6)}`),this.ctrlBindings=!!navigator.userAgent.match(/Macintosh/),this.keyboardEventHandler=t=>(function(t,e){if(!t.shiftKey&&!t.metaKey&&!t.altKey&&(e.ctrlBindings||!t.ctrlKey)&&!e.isComposing)switch(t.key){case"Enter":o(e.input,e.list)&&t.preventDefault();break;case"Tab":e.tabInsertsSuggestions&&o(e.input,e.list)&&t.preventDefault();break;case"Escape":e.clearSelection();break;case"ArrowDown":e.navigate(1),t.preventDefault();break;case"ArrowUp":e.navigate(-1),t.preventDefault();break;case"n":e.ctrlBindings&&t.ctrlKey&&(e.navigate(1),t.preventDefault());break;case"p":e.ctrlBindings&&t.ctrlKey&&(e.navigate(-1),t.preventDefault());break;default:if(t.ctrlKey)break;e.clearSelection()}})(t,this),this.compositionEventHandler=t=>(function(t,e){e.isComposing="compositionstart"===t.type;let n=document.getElementById(e.input.getAttribute("aria-controls")||"");n&&e.clearSelection()})(t,this),this.inputHandler=this.clearSelection.bind(this),t.setAttribute("role","combobox"),t.setAttribute("aria-controls",e.id),t.setAttribute("aria-expanded","false"),t.setAttribute("aria-autocomplete","list"),t.setAttribute("aria-haspopup","listbox")}destroy(){this.clearSelection(),this.stop(),this.input.removeAttribute("role"),this.input.removeAttribute("aria-controls"),this.input.removeAttribute("aria-expanded"),this.input.removeAttribute("aria-autocomplete"),this.input.removeAttribute("aria-haspopup")}start(){this.input.setAttribute("aria-expanded","true"),this.input.addEventListener("compositionstart",this.compositionEventHandler),this.input.addEventListener("compositionend",this.compositionEventHandler),this.input.addEventListener("input",this.inputHandler),this.input.addEventListener("keydown",this.keyboardEventHandler),this.list.addEventListener("click",i),this.indicateDefaultOption()}stop(){this.clearSelection(),this.input.setAttribute("aria-expanded","false"),this.input.removeEventListener("compositionstart",this.compositionEventHandler),this.input.removeEventListener("compositionend",this.compositionEventHandler),this.input.removeEventListener("input",this.inputHandler),this.input.removeEventListener("keydown",this.keyboardEventHandler),this.list.removeEventListener("click",i)}indicateDefaultOption(){var t;this.defaultFirstOption&&(null===(t=Array.from(this.list.querySelectorAll('[role="option"]:not([aria-disabled="true"])')).filter(r)[0])||void 0===t||t.setAttribute("data-combobox-option-default","true"))}navigate(t=1){let e=Array.from(this.list.querySelectorAll('[aria-selected="true"]')).filter(r)[0],n=Array.from(this.list.querySelectorAll('[role="option"]')).filter(r),i=n.indexOf(e);if(i===n.length-1&&1===t||0===i&&-1===t){this.clearSelection(),this.input.focus();return}let o=1===t?0:n.length-1;if(e&&i>=0){let e=i+t;e>=0&&e<n.length&&(o=e)}let l=n[o];if(l)for(let t of n){var s;t.removeAttribute("data-combobox-option-default"),l===t?(this.input.setAttribute("aria-activedescendant",l.id),l.setAttribute("aria-selected","true"),!function(t,e){let n=t.scrollTop,i=n+t.clientHeight,o=e.offsetTop,r=o+e.clientHeight;return o>=n&&r<=i}(s=this.list,l)&&(s.scrollTop=l.offsetTop)):t.removeAttribute("aria-selected")}}clearSelection(){for(let t of(this.input.removeAttribute("aria-activedescendant"),this.list.querySelectorAll('[aria-selected="true"]')))t.removeAttribute("aria-selected");this.indicateDefaultOption()}};function i(t){if(!(t.target instanceof Element))return;let e=t.target.closest('[role="option"]');e&&"true"!==e.getAttribute("aria-disabled")&&function(t,e){t.dispatchEvent(new CustomEvent("combobox-commit",{bubbles:!0,detail:e}))}(e,{event:t})}function o(t,e){let n=e.querySelector('[aria-selected="true"], [data-combobox-option-default="true"]');return!!n&&("true"===n.getAttribute("aria-disabled")||(n.click(),!0))}function r(t){return!t.hidden&&!(t instanceof HTMLInputElement&&"hidden"===t.type)&&(t.offsetWidth>0||t.offsetHeight>0)}},51941:(t,e,n)=>{n.r(e),n.d(e,{default:()=>B});var i,o,r=function(t,e,n,i){if("a"===n&&!i)throw TypeError("Private accessor was defined without a getter");if("function"==typeof e?t!==e||!i:!e.has(t))throw TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?i:"a"===n?i.call(t):i?i.value:e.get(t)};let l=["[data-md-button]","md-header","md-bold","md-italic","md-quote","md-code","md-link","md-image","md-unordered-list","md-ordered-list","md-task-list","md-mention","md-ref","md-strikethrough"];function s(t){let e=[];for(let n of t.querySelectorAll(l.join(", ")))n.hidden||n.offsetWidth<=0&&n.offsetHeight<=0||n.closest("markdown-toolbar")!==t||e.push(n);return e}function a(t){return function(e){(" "===e.key||"Enter"===e.key)&&t(e)}}let d=new WeakMap,u={"header-1":{prefix:"# "},"header-2":{prefix:"## "},"header-3":{prefix:"### "},"header-4":{prefix:"#### "},"header-5":{prefix:"##### "},"header-6":{prefix:"###### "},bold:{prefix:"**",suffix:"**",trimFirst:!0},italic:{prefix:"_",suffix:"_",trimFirst:!0},quote:{prefix:"> ",multiline:!0,surroundWithNewlines:!0},code:{prefix:"`",suffix:"`",blockPrefix:"```",blockSuffix:"```"},link:{prefix:"[",suffix:"](url)",replaceNext:"url",scanFor:"https?://"},image:{prefix:"![",suffix:"](url)",replaceNext:"url",scanFor:"https?://"},"unordered-list":{prefix:"- ",multiline:!0,unorderedList:!0},"ordered-list":{prefix:"1. ",multiline:!0,orderedList:!0},"task-list":{prefix:"- [ ] ",multiline:!0,surroundWithNewlines:!0},mention:{prefix:"@",prefixSpace:!0},ref:{prefix:"#",prefixSpace:!0},strikethrough:{prefix:"~~",suffix:"~~",trimFirst:!0}};let MarkdownButtonElement=class MarkdownButtonElement extends HTMLElement{constructor(){super();let t=t=>{let e=d.get(this);e&&(t.preventDefault(),M(this,e))};this.addEventListener("keydown",a(t)),this.addEventListener("click",t)}connectedCallback(){this.hasAttribute("role")||this.setAttribute("role","button")}click(){let t=d.get(this);t&&M(this,t)}};let MarkdownHeaderButtonElement=class MarkdownHeaderButtonElement extends MarkdownButtonElement{constructor(){super(...arguments),i.add(this)}connectedCallback(){let t=parseInt(this.getAttribute("level")||"3",10);r(this,i,"m",o).call(this,t)}static get observedAttributes(){return["level"]}attributeChangedCallback(t,e,n){if("level"!==t)return;let l=parseInt(n||"3",10);r(this,i,"m",o).call(this,l)}};i=new WeakSet,o=function(t){if(t<1||t>6)return;let e=`${"#".repeat(t)} `;d.set(this,{prefix:e})},window.customElements.get("md-header")||(window.MarkdownHeaderButtonElement=MarkdownHeaderButtonElement,window.customElements.define("md-header",MarkdownHeaderButtonElement));let MarkdownBoldButtonElement=class MarkdownBoldButtonElement extends MarkdownButtonElement{connectedCallback(){d.set(this,{prefix:"**",suffix:"**",trimFirst:!0})}};window.customElements.get("md-bold")||(window.MarkdownBoldButtonElement=MarkdownBoldButtonElement,window.customElements.define("md-bold",MarkdownBoldButtonElement));let MarkdownItalicButtonElement=class MarkdownItalicButtonElement extends MarkdownButtonElement{connectedCallback(){d.set(this,{prefix:"_",suffix:"_",trimFirst:!0})}};window.customElements.get("md-italic")||(window.MarkdownItalicButtonElement=MarkdownItalicButtonElement,window.customElements.define("md-italic",MarkdownItalicButtonElement));let MarkdownQuoteButtonElement=class MarkdownQuoteButtonElement extends MarkdownButtonElement{connectedCallback(){d.set(this,{prefix:"> ",multiline:!0,surroundWithNewlines:!0})}};window.customElements.get("md-quote")||(window.MarkdownQuoteButtonElement=MarkdownQuoteButtonElement,window.customElements.define("md-quote",MarkdownQuoteButtonElement));let MarkdownCodeButtonElement=class MarkdownCodeButtonElement extends MarkdownButtonElement{connectedCallback(){d.set(this,{prefix:"`",suffix:"`",blockPrefix:"```",blockSuffix:"```"})}};window.customElements.get("md-code")||(window.MarkdownCodeButtonElement=MarkdownCodeButtonElement,window.customElements.define("md-code",MarkdownCodeButtonElement));let MarkdownLinkButtonElement=class MarkdownLinkButtonElement extends MarkdownButtonElement{connectedCallback(){d.set(this,{prefix:"[",suffix:"](url)",replaceNext:"url",scanFor:"https?://"})}};window.customElements.get("md-link")||(window.MarkdownLinkButtonElement=MarkdownLinkButtonElement,window.customElements.define("md-link",MarkdownLinkButtonElement));let MarkdownImageButtonElement=class MarkdownImageButtonElement extends MarkdownButtonElement{connectedCallback(){d.set(this,{prefix:"![",suffix:"](url)",replaceNext:"url",scanFor:"https?://"})}};window.customElements.get("md-image")||(window.MarkdownImageButtonElement=MarkdownImageButtonElement,window.customElements.define("md-image",MarkdownImageButtonElement));let MarkdownUnorderedListButtonElement=class MarkdownUnorderedListButtonElement extends MarkdownButtonElement{connectedCallback(){d.set(this,{prefix:"- ",multiline:!0,unorderedList:!0})}};window.customElements.get("md-unordered-list")||(window.MarkdownUnorderedListButtonElement=MarkdownUnorderedListButtonElement,window.customElements.define("md-unordered-list",MarkdownUnorderedListButtonElement));let MarkdownOrderedListButtonElement=class MarkdownOrderedListButtonElement extends MarkdownButtonElement{connectedCallback(){d.set(this,{prefix:"1. ",multiline:!0,orderedList:!0})}};window.customElements.get("md-ordered-list")||(window.MarkdownOrderedListButtonElement=MarkdownOrderedListButtonElement,window.customElements.define("md-ordered-list",MarkdownOrderedListButtonElement));let MarkdownTaskListButtonElement=class MarkdownTaskListButtonElement extends MarkdownButtonElement{connectedCallback(){d.set(this,{prefix:"- [ ] ",multiline:!0,surroundWithNewlines:!0})}};window.customElements.get("md-task-list")||(window.MarkdownTaskListButtonElement=MarkdownTaskListButtonElement,window.customElements.define("md-task-list",MarkdownTaskListButtonElement));let MarkdownMentionButtonElement=class MarkdownMentionButtonElement extends MarkdownButtonElement{connectedCallback(){d.set(this,{prefix:"@",prefixSpace:!0})}};window.customElements.get("md-mention")||(window.MarkdownMentionButtonElement=MarkdownMentionButtonElement,window.customElements.define("md-mention",MarkdownMentionButtonElement));let MarkdownRefButtonElement=class MarkdownRefButtonElement extends MarkdownButtonElement{connectedCallback(){d.set(this,{prefix:"#",prefixSpace:!0})}};window.customElements.get("md-ref")||(window.MarkdownRefButtonElement=MarkdownRefButtonElement,window.customElements.define("md-ref",MarkdownRefButtonElement));let MarkdownStrikethroughButtonElement=class MarkdownStrikethroughButtonElement extends MarkdownButtonElement{connectedCallback(){d.set(this,{prefix:"~~",suffix:"~~",trimFirst:!0})}};function c(t){let{target:e,currentTarget:n}=t;if(!(e instanceof HTMLElement))return;let i=e.closest("[data-md-button]");if(!i||i.closest("markdown-toolbar")!==n)return;let o=e.getAttribute("data-md-button"),r=u[o];r&&(t.preventDefault(),M(e,r))}function m(t){t.addEventListener("keydown",w),t.setAttribute("tabindex","0"),t.addEventListener("focus",h,{once:!0})}function f(t){t.removeEventListener("keydown",w),t.removeAttribute("tabindex"),t.removeEventListener("focus",h)}window.customElements.get("md-strikethrough")||(window.MarkdownStrikethroughButtonElement=MarkdownStrikethroughButtonElement,window.customElements.define("md-strikethrough",MarkdownStrikethroughButtonElement));let MarkdownToolbarElement=class MarkdownToolbarElement extends HTMLElement{connectedCallback(){this.hasAttribute("role")||this.setAttribute("role","toolbar"),this.hasAttribute("data-no-focus")||m(this),this.addEventListener("keydown",a(c)),this.addEventListener("click",c)}attributeChangedCallback(t,e,n){"data-no-focus"===t&&(null===n?m(this):f(this))}disconnectedCallback(){f(this)}get field(){let t;let e=this.getAttribute("for");if(!e)return null;let n="getRootNode"in this?this.getRootNode():document;return(n instanceof Document||n instanceof ShadowRoot)&&(t=n.getElementById(e)),t instanceof HTMLTextAreaElement?t:null}};function h({target:t}){if(!(t instanceof Element))return;t.removeAttribute("tabindex");let e="0";for(let n of s(t))n.setAttribute("tabindex",e),"0"===e&&(n.focus(),e="-1")}function w(t){let e=t.key;if("ArrowRight"!==e&&"ArrowLeft"!==e&&"Home"!==e&&"End"!==e)return;let n=t.currentTarget;if(!(n instanceof HTMLElement))return;let i=s(n),o=i.indexOf(t.target),r=i.length;if(-1===o)return;let l=0;"ArrowLeft"===e&&(l=o-1),"ArrowRight"===e&&(l=o+1),"End"===e&&(l=r-1),l<0&&(l=r-1),l>r-1&&(l=0);for(let t=0;t<r;t+=1)i[t].setAttribute("tabindex",t===l?"0":"-1");t.preventDefault(),i[l].focus()}function E(t){return t.trim().split("\n").length>1}function p(t,e){return Array(e+1).join(t)}MarkdownToolbarElement.observedAttributes=["data-no-focus"],window.customElements.get("markdown-toolbar")||(window.MarkdownToolbarElement=MarkdownToolbarElement,window.customElements.define("markdown-toolbar",MarkdownToolbarElement));let k=null;function b(t){let e,n;let i=t.value.slice(0,t.selectionStart),o=t.value.slice(t.selectionEnd),r=i.match(/\n*$/),l=o.match(/^\n*/),s=r?r[0].length:0,a=l?l[0].length:0;return i.match(/\S/)&&s<2&&(e=p("\n",2-s)),o.match(/\S/)&&a<2&&(n=p("\n",2-a)),null==e&&(e=""),null==n&&(n=""),{newlinesToAppend:e,newlinesToPrepend:n}}function g(t){let e=t.split("\n"),n=/^\d+\.\s+/,i=e.every(t=>n.test(t)),o=e;return i&&(o=e.map(t=>t.replace(n,""))),{text:o.join("\n"),processed:i}}function x(t){let e=t.split("\n"),n=e.every(t=>t.startsWith("- ")),i=e;return n&&(i=e.map(t=>t.slice(2,t.length))),{text:i.join("\n"),processed:n}}function v(t,e){return e?"- ":`${t+1}. `}function M(t,e){let n=t.closest("markdown-toolbar");if(!(n instanceof MarkdownToolbarElement))return;let i=Object.assign(Object.assign({},{prefix:"",suffix:"",blockPrefix:"",blockSuffix:"",multiline:!1,replaceNext:"",prefixSpace:!1,scanFor:"",surroundWithNewlines:!1,orderedList:!1,unorderedList:!1,trimFirst:!1}),e),o=n.field;o&&(o.focus(),function(t,e){let n;let i=t.value.slice(t.selectionStart,t.selectionEnd);n=e.orderedList||e.unorderedList?function(t,e){let n,i,o;let r=t.selectionStart===t.selectionEnd,l=t.selectionStart,s=t.selectionEnd;!function(t){let e=t.value.split("\n"),n=0;for(let i=0;i<e.length;i++){let o=e[i].length+1;t.selectionStart>=n&&t.selectionStart<n+o&&(t.selectionStart=n),t.selectionEnd>=n&&t.selectionEnd<n+o&&(t.selectionEnd=n+o-1),n+=o}}(t);let a=t.value.slice(t.selectionStart,t.selectionEnd),[d,u,c]=(o=e.orderedList?(n=x((i=g(a)).text)).text:(n=g((i=x(a)).text)).text,[i,n,o]),m=c.split("\n").map((t,n)=>`${v(n,e.unorderedList)}${t}`),f=m.reduce((t,n,i)=>t+v(i,e.unorderedList).length,0),h=m.reduce((t,n,i)=>t+v(i,!e.unorderedList).length,0);if(d.processed)return r?s=l=Math.max(l-v(0,e.unorderedList).length,0):(l=t.selectionStart,s=t.selectionEnd-f),{text:c,selectionStart:l,selectionEnd:s};let{newlinesToAppend:w,newlinesToPrepend:E}=b(t),p=w+m.join("\n")+E;return r?s=l=Math.max(l+v(0,e.unorderedList).length+w.length,0):u.processed?(l=Math.max(t.selectionStart+w.length,0),s=t.selectionEnd+w.length+f-h):(l=Math.max(t.selectionStart+w.length,0),s=t.selectionEnd+w.length+f),{text:p,selectionStart:l,selectionEnd:s}}(t,e):e.multiline&&E(i)?function(t,e){let{prefix:n,suffix:i,surroundWithNewlines:o}=e,r=t.value.slice(t.selectionStart,t.selectionEnd),l=t.selectionStart,s=t.selectionEnd,a=r.split("\n"),d=a.every(t=>t.startsWith(n)&&t.endsWith(i));if(d)s=l+(r=a.map(t=>t.slice(n.length,t.length-i.length)).join("\n")).length;else if(r=a.map(t=>n+t+i).join("\n"),o){let{newlinesToAppend:e,newlinesToPrepend:n}=b(t);l+=e.length,s=l+r.length,r=e+r+n}return{text:r,selectionStart:l,selectionEnd:s}}(t,e):function(t,e){let n,i;let{prefix:o,suffix:r,blockPrefix:l,blockSuffix:s,replaceNext:a,prefixSpace:d,scanFor:u,surroundWithNewlines:c}=e,m=t.selectionStart,f=t.selectionEnd,h=t.value.slice(t.selectionStart,t.selectionEnd),w=E(h)&&l.length>0?`${l}
`:o,p=E(h)&&s.length>0?`
${s}`:r;if(d){let e=t.value[t.selectionStart-1];0===t.selectionStart||null==e||e.match(/\s/)||(w=` ${w}`)}h=function(t,e,n,i=!1){if(t.selectionStart===t.selectionEnd)t.selectionStart=function(t,e){let n=e;for(;t[n]&&null!=t[n-1]&&!t[n-1].match(/\s/);)n--;return n}(t.value,t.selectionStart),t.selectionEnd=function(t,e,n){let i=e,o=n?/\n/:/\s/;for(;t[i]&&!t[i].match(o);)i++;return i}(t.value,t.selectionEnd,i);else{let i=t.selectionStart-e.length,o=t.selectionEnd+n.length,r=t.value.slice(i,t.selectionStart)===e,l=t.value.slice(t.selectionEnd,o)===n;r&&l&&(t.selectionStart=i,t.selectionEnd=o)}return t.value.slice(t.selectionStart,t.selectionEnd)}(t,w,p,e.multiline);let k=t.selectionStart,g=t.selectionEnd,x=a.length>0&&p.indexOf(a)>-1&&h.length>0;if(c){let e=b(t);n=e.newlinesToAppend,i=e.newlinesToPrepend,w=n+o,p+=i}if(h.startsWith(w)&&h.endsWith(p)){let t=h.slice(w.length,h.length-p.length);if(m===f){let e=m-w.length;k=g=e=Math.min(e=Math.max(e,k),k+t.length)}else g=k+t.length;return{text:t,selectionStart:k,selectionEnd:g}}if(x){if(u.length>0&&h.match(u)){p=p.replace(a,h);let t=w+p;return{text:t,selectionStart:k=g=k+w.length,selectionEnd:g}}{let t=w+h+p;return g=(k=k+w.length+h.length+p.indexOf(a))+a.length,{text:t,selectionStart:k,selectionEnd:g}}}{let t=w+h+p;k=m+w.length,g=f+w.length;let n=h.match(/^\s*|\s*$/g);if(e.trimFirst&&n){let e=n[0]||"",i=n[1]||"";t=e+w+h.trim()+p+i,k+=e.length,g-=i.length}return{text:t,selectionStart:k,selectionEnd:g}}}(t,e),function(t,{text:e,selectionStart:n,selectionEnd:i}){let o=t.selectionStart,r=t.value.slice(0,o),l=t.value.slice(t.selectionEnd);if(null===k||!0===k){t.contentEditable="true";try{k=document.execCommand("insertText",!1,e)}catch(t){k=!1}t.contentEditable="false"}if(k&&!t.value.slice(0,t.selectionStart).endsWith(e)&&(k=!1),!k){try{document.execCommand("ms-beginUndoUnit")}catch(t){}t.value=r+e+l;try{document.execCommand("ms-endUndoUnit")}catch(t){}t.dispatchEvent(new CustomEvent("input",{bubbles:!0,cancelable:!0}))}null!=n&&null!=i?t.setSelectionRange(n,i):t.setSelectionRange(o,t.selectionEnd)}(t,n)}(o,i))}let B=MarkdownToolbarElement}}]);
//# sourceMappingURL=vendors-node_modules_github_combobox-nav_dist_index_js-node_modules_github_markdown-toolbar-e-820fc0-5d29a2f59717.js.map